/**
 * esbuild-plugin-glsl v1.1.0 build Thu Mar 24 2022
 * https://github.com/vanruesc/esbuild-plugin-glsl
 * Copyright 2022 Raoul van RÃ¼schen
 * @license Zlib
 */
import*as a from"fs";import*as u from"util";function l(n){let o=/[ \t]*(?:(?:\/\*[\s\S]*?\*\/)|(?:\/\/.*\n))/g,i=/\s*([{}=*,+/><&|[\]()\-!?:;])\s*/g,t=n.replace(/\r/g,"").replace(o,""),s=!1;return t=t.split(/\n+/).reduce((e,r)=>(r=r.trim().replace(/\s{2,}|\t/," "),r[0]==="#"?(s&&e.push(`
`),e.push(r,`
`),s=!1):(r=r.replace(/(else)$/m,"$1 "),e.push(r.replace(i,"$1")),s=!0),e),[]).join(""),t.replace(/\n{2,}/g,`
`)}function g({minify:n=!1}={}){let o=u.promisify(a.readFile);return{name:"glsl",setup(i){async function t(s){let e=await o(s.path,"utf8");return{contents:n?l(e):e,loader:"text"}}i.onLoad({filter:/\.(?:frag|vert|glsl|wgsl)$/},t)}}}export{g as default,g as glsl};
